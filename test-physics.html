<!DOCTYPE html>
<html>
<head>
    <title>Red Orbit Physics Test</title>
    <style>
        body { font-family: monospace; background: #000; color: #ff6600; padding: 20px; }
        #status { margin: 20px 0; }
        .success { color: #00ff00; }
        .error { color: #ff0000; }
    </style>
</head>
<body>
    <h1>Red Orbit Physics Test</h1>
    <div id="status">Testing Ammo.js loading...</div>
    
    <script>
        const status = document.getElementById('status');
        
        async function testAmmo() {
            try {
                // Load Ammo.js
                const script = document.createElement('script');
                script.src = 'https://cdn.babylonjs.com/ammo.js';
                document.head.appendChild(script);
                
                await new Promise((resolve, reject) => {
                    script.onload = resolve;
                    script.onerror = reject;
                });
                
                status.innerHTML += '<div class="success">✓ Ammo.js script loaded</div>';
                
                // Initialize Ammo
                await Ammo();
                status.innerHTML += '<div class="success">✓ Ammo.js initialized</div>';
                
                // Test creating physics world
                const collisionConfig = new Ammo.btDefaultCollisionConfiguration();
                const dispatcher = new Ammo.btCollisionDispatcher(collisionConfig);
                const broadphase = new Ammo.btDbvtBroadphase();
                const solver = new Ammo.btSequentialImpulseConstraintSolver();
                
                const world = new Ammo.btDiscreteDynamicsWorld(
                    dispatcher,
                    broadphase,
                    solver,
                    collisionConfig
                );
                
                world.setGravity(new Ammo.btVector3(0, -9.8, 0));
                status.innerHTML += '<div class="success">✓ Physics world created</div>';
                
                // Clean up
                Ammo.destroy(world);
                Ammo.destroy(solver);
                Ammo.destroy(broadphase);
                Ammo.destroy(dispatcher);
                Ammo.destroy(collisionConfig);
                
                status.innerHTML += '<div class="success">✓ All tests passed! Ammo.js is working correctly.</div>';
                
            } catch (error) {
                status.innerHTML += `<div class="error">✗ Error: ${error.message}</div>`;
                console.error(error);
            }
        }
        
        testAmmo();
    </script>
</body>
</html>