<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEOS: First Orbit - Satellite Visualization</title>
    <link rel="stylesheet" href="css/brand-ui.css">
    <link rel="stylesheet" href="css/sda-styles.css">
    <!-- Webpack will inject the correct script tags automatically -->
    <style>
      /* Help modal side panel */
      /* Pulsing glow for help sphere */
      @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(0,204,255,0.7); }
        70% { box-shadow: 0 0 0 12px rgba(0,204,255,0); }
        100% { box-shadow: 0 0 0 0 rgba(0,204,255,0); }
      }
      #help-sphere-btn {
        pointer-events: auto;
        animation: pulse 3s ease-in-out infinite;
        color: #fff;
        font-size: 1.2em;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      #help-sphere-btn:hover {
        background: rgba(102,217,255,0.9);
      }
      /* Apply pulse animation to SDA toggle button */
      #sda-toggle-btn {
        animation: pulse 3s ease-in-out infinite;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
      }
      
      /* Apply pulse animation to simulation settings button */
      #simulation-settings-btn {
        animation: pulse 3s ease-in-out infinite;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
      }

    </style>
</head>
<body>
    <div id="renderCanvas-container">
        <!-- UNCLASSIFIED Banner -->
        <div id="unclass-banner" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 40px; background: linear-gradient(135deg, #228B22 0%, #32CD32 100%); color: #000000; font-family: var(--font-primary); font-weight: bold; font-size: 16px; text-align: center; line-height: 40px; letter-spacing: 3px; z-index: 20000; box-shadow: 0 2px 10px rgba(34, 139, 34, 0.5); border-bottom: 2px solid #000000;">
            UNCLASSIFIED
        </div>
        
        <!-- Control Dock Container -->
        <div id="control-dock-container" style="position: absolute; top: 16px; left: 16px; z-index: 12000;">
            <!-- Main Control Dock -->
            <div id="control-dock" style="display: none; flex-direction: column; gap: 8px; transition: all 0.3s ease;">
                <!-- Help Sphere Button -->
                <button id="help-sphere-btn" title="Help" class="control-button" style="width:36px; height:36px; border-radius:50%; background:rgba(102,217,255,0.7); border:2px solid #00cfff; cursor:pointer; display:flex; align-items:center; justify-content:center; pointer-events:auto;">i</button>
                
                <!-- Learning Button -->
                <button id="learning-btn" title="Learning Center" class="control-button" style="width:36px; height:36px; border-radius:50%; background:rgba(255,140,0,0.7); border:2px solid #ff8c00; cursor:pointer; display:flex; align-items:center; justify-content:center; pointer-events:auto;">
                    <img src="/assets/learn.svg" style="width:20px; height:20px; filter:brightness(0) invert(1);" alt="Learn">
                </button>
                
                <!-- SDA Toggle Button -->
                <button id="sda-toggle-btn" title="Toggle SDA" class="control-button" style="width:36px; height:36px; border-radius:50%; background:rgba(138,43,226,0.7); border:2px solid #8a2be2; cursor:pointer; display:flex; align-items:center; justify-content:center; pointer-events:auto;">
                    <img src="/assets/sat.svg" style="width:18px; height:18px; filter:brightness(0) invert(1);" alt="SDA">
                </button>
                
                <!-- Support Button -->
                <button id="support-btn" title="Support & Feedback" class="control-button" style="width:36px; height:36px; border-radius:50%; background:rgba(34,197,94,0.7); border:2px solid #22c55e; cursor:pointer; display:flex; align-items:center; justify-content:center; pointer-events:auto;">
                    <img src="/assets/support.svg" style="width:20px; height:20px; filter:brightness(0) invert(1);" alt="Support">
                </button>
                
                <!-- Simulation Settings Button -->
                <button id="simulation-settings-btn" title="Simulation Settings" class="control-button" style="width:36px; height:36px; border-radius:50%; background:rgba(102,217,255,0.7); border:2px solid #00cfff; cursor:pointer; display:flex; align-items:center; justify-content:center; pointer-events:auto;">
                    <svg style="width:18px; height:18px; fill:#ffffff;" viewBox="0 0 24 24">
                        <path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"/>
                    </svg>
                </button>
                
                <!-- Dock Divider -->
                <div style="width: 20px; height: 1px; background: rgba(255,255,255,0.2); margin: 4px auto;"></div>
                
                <!-- Minimize Button -->
                <button id="dock-minimize-btn" title="Hide Controls" style="width:36px; height:36px; border-radius:50%; background:rgba(255,255,255,0.1); border:2px solid rgba(255,255,255,0.3); cursor:pointer; display:flex; align-items:center; justify-content:center; pointer-events:auto; transition: all 0.3s ease;">
                    <svg style="width:16px; height:16px; fill:#ffffff;" viewBox="0 0 24 24">
                        <path d="M19,13H5V11H19V13Z"/>
                    </svg>
                </button>
            </div>
            
            <!-- Minimized Dock -->
            <div id="minimized-dock" style="display: none; cursor: pointer; transition: all 0.3s ease;" title="Show Controls">
                <div style="width: 36px; height: 36px; border-radius: 50%; background: rgba(0,0,0,0.4); border: 2px solid rgba(255,255,255,0.3); backdrop-filter: blur(10px); display: flex; align-items: center; justify-content: center; gap: 3px;">
                    <div style="width: 4px; height: 4px; background: rgba(255,255,255,0.6); border-radius: 50%;"></div>
                    <div style="width: 4px; height: 4px; background: rgba(255,255,255,0.6); border-radius: 50%;"></div>
                    <div style="width: 4px; height: 4px; background: rgba(255,255,255,0.6); border-radius: 50%;"></div>
                </div>
            </div>
        </div>
        
        <!-- CyberRTS Logo (clickable, positioned to the left after control dock) -->
        <a id="cyberrts-logo-link" href="https://www.cyberrts.com" target="_blank" style="position:absolute; top:12px; left:70px; z-index:3000; text-decoration:none; display:none;">
            <img src="assets/CyberRTS-Simple-Logo.svg" alt="CyberRTS" style="height: 50px; cursor:pointer; transition: transform 0.2s;" 
                 onmouseover="this.style.transform='scale(1.1)'" 
                 onmouseout="this.style.transform='scale(1)'">
        </a>
        
        <!-- Floating Time Display -->
        <div id="time-display" class="floating-display" style="position:absolute; top:24px; left:50%; transform:translateX(-50%); z-index:3000; min-width:220px; text-align:center;">
            <div id="current-time" style="font-size:1.18em; font-weight:600; letter-spacing:0.04em; color:#66d9ff; background:rgba(0,23,40,0.92); border-radius:8px; padding:0.5em 1.2em; box-shadow:0 2px 12px #00cfff33; border:1px solid #00cfff; display:inline-block; cursor:pointer;">
                00:00:00 UTC
            </div>
            <div id="time-controls" class="time-controls-panel hidden" style="margin-top:8px;">
                <button class="time-btn speed-btn" data-mult="0.25">0.25x</button>
                <button class="time-btn speed-btn" data-mult="0.5">0.5x</button>
                <button class="time-btn speed-btn" data-mult="1">1x</button>
                <button class="time-btn speed-btn" data-mult="2">2x</button>
                <button class="time-btn speed-btn" data-mult="4">4x</button>
            </div>
            <div id="time-info-note" style="display:none; position:absolute; left:50%; top:calc(100% + 18px); transform:translateX(-50%); min-width:600px; max-width:900px; background:rgba(10,18,32,0.98); color:#66d9ff; font-size:1em; border-radius:22px; box-shadow:0 8px 36px #00cfff22; padding:1.5em 2.8em 1.5em 2.2em; z-index:3500; text-align:left; border:none; line-height:1.7; pointer-events:auto; outline:none; display:flex; flex-direction:column; gap:0.5em; align-items:flex-start; font-weight:400; opacity:0.97;">
                <b>Tip:</b> Simulation time runs at a 60:1 ratio (1 real second = 1 simulated minute). The speed you select multiplies this effect.
            </div>
        </div>
        
        <canvas id="renderCanvas" touch-action="none"></canvas>
        <!-- Loading Screen with Space Facts -->
        
        <!-- SDA Objects Legend (hidden by default) -->
        <div class="sda-legend" id="sda-legend">
            <h4>
                Space Domain Awareness <span id="sda-object-count" style="color: #00cfff; font-weight: normal;">(0 objects)</span>
                <span class="beta-badge">BETA</span>
                <button class="minimize-btn" id="minimize-sda-legend-btn" style="position: absolute; right: 10px; top: 10px; background: none; border: none; cursor: pointer; padding: 0; color: #66d9ff; font-size: 24px; line-height: 1; transition: all 0.3s ease;" title="Minimize to dock" onmouseover="this.style.color='#00cfff'; this.style.transform='scale(1.2)';" onmouseout="this.style.color='#66d9ff'; this.style.transform='scale(1)';">−</button>
            </h4>
            <div style="background: rgba(255, 200, 0, 0.1); border: 1px solid #ffc800; border-radius: 4px; padding: 8px; margin-bottom: 15px; font-size: 11px; color: #ffc800;">
                🚧 <strong>BETA VERSION:</strong> Data is for demonstration purposes. Real satellites use 1-week-old NORAD data, not live real-time positions.
            </div>
            
            <div class="sda-content">
                <!-- Data Mode Status -->
                <div class="sda-section">
                    <h5>Status</h5>
                    <div class="sda-mode-indicator" id="sda-mode-indicator">
                        <div class="mode-status" id="mode-status">
                            <span class="mode-badge" id="mode-badge">LOADING</span>
                            <span class="mode-text" id="mode-text">Initializing data sources...</span>
                        </div>
                    </div>
                </div>
                
                <!-- Object Classification -->
                <div class="sda-section">
                    <h5>Object Classification</h5>
                    <div class="sda-legend-grid">
                        <div class="sda-legend-item" data-orbit-class="LEO">
                            <div class="sda-legend-left">
                                <div class="sda-legend-color leo"></div>
                                <span>LEO <span id="leo-count">0</span></span>
                            </div>
                            <div class="sda-toggle active" data-toggle="LEO">
                                <div class="sda-toggle-slider"></div>
                            </div>
                        </div>
                        <div class="sda-legend-item" data-orbit-class="MEO">
                            <div class="sda-legend-left">
                                <div class="sda-legend-color meo"></div>
                                <span>MEO <span id="meo-count">0</span></span>
                            </div>
                            <div class="sda-toggle active" data-toggle="MEO">
                                <div class="sda-toggle-slider"></div>
                            </div>
                        </div>
                        <div class="sda-legend-item" data-orbit-class="GEO">
                            <div class="sda-legend-left">
                                <div class="sda-legend-color geo"></div>
                                <span>GEO <span id="geo-count">0</span></span>
                            </div>
                            <div class="sda-toggle active" data-toggle="GEO">
                                <div class="sda-toggle-slider"></div>
                            </div>
                        </div>
                        <div class="sda-legend-item" data-orbit-class="HEO">
                            <div class="sda-legend-left">
                                <div class="sda-legend-color heo"></div>
                                <span>HEO <span id="heo-count">0</span></span>
                            </div>
                            <div class="sda-toggle active" data-toggle="HEO">
                                <div class="sda-toggle-slider"></div>
                            </div>
                        </div>
                        <div class="sda-legend-item" data-orbit-class="DEBRIS">
                            <div class="sda-legend-left">
                                <div class="sda-legend-color debris"></div>
                                <span>Debris <span id="debris-count">0</span></span>
                            </div>
                            <div class="sda-toggle active" data-toggle="DEBRIS">
                                <div class="sda-toggle-slider"></div>
                            </div>
                        </div>
                        <!-- Real satellites are now distributed among their proper orbital classes (LEO/MEO/GEO/HEO) -->
                    </div>
                </div>
                
                <!-- Data Sources Info -->
                <div class="sda-section">
                    <h5>Data Sources</h5>
                    <div class="data-source-grid">
                        <div class="sda-legend-item">
                            <div class="sda-legend-left">
                                <div class="sda-legend-color" style="background: #00ff64;"></div>
                                <span>Real NORAD <span id="real-count">0</span></span>
                            </div>
                            <div class="sda-toggle active" data-toggle="REAL">
                                <div class="sda-toggle-slider"></div>
                            </div>
                        </div>
                        <div class="sda-legend-item">
                            <div class="sda-legend-left">
                                <div class="sda-legend-color" style="background: #ff8800;"></div>
                                <span>Simulated <span id="static-count">0</span></span>
                            </div>
                            <div class="sda-toggle active" data-toggle="SIMULATED">
                                <div class="sda-toggle-slider"></div>
                            </div>
                        </div>
                        <div class="source-item">
                            <div class="source-label">Updated</div>
                            <div class="source-value" id="last-updated">Never</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- SDA Data Browser (hidden by default) -->
        <div class="sda-data-browser" id="sda-data-browser">
            <h4>
                Satellite Database
                <button class="minimize-btn" id="minimize-sda-browser-btn" style="position: absolute; right: 10px; top: 10px; background: none; border: none; cursor: pointer; padding: 0; color: #66d9ff; font-size: 24px; line-height: 1; transition: all 0.3s ease;" title="Minimize to dock" onmouseover="this.style.color='#00cfff'; this.style.transform='scale(1.2)';" onmouseout="this.style.color='#66d9ff'; this.style.transform='scale(1)';">−</button>
            </h4>
            
            <div class="sda-search-controls">
                <input type="text" class="sda-search-input" id="sda-search-input" placeholder="Search satellites...">
                <select class="sda-filter-select" id="sda-filter-select">
                    <option value="">All Classes</option>
                    <option value="LEO">LEO</option>
                    <option value="MEO">MEO</option>
                    <option value="GEO">GEO</option>
                    <option value="HEO">HEO</option>
                    <option value="DEBRIS">Debris</option>
                    <option value="USER">User</option>
                </select>
            </div>
            
            <div class="sda-data-list" id="sda-data-list">
                <!-- Data items will be populated dynamically -->
            </div>
        </div>
        
        <!-- Add TLE Button (hidden by default) -->
        <button class="add-tle-button" id="add-tle-button">
            Add New Object (TLE) - Coming Soon
        </button>
        <div id="loading-screen">
            <!-- Aurora Background Canvas -->
            <canvas id="aurora-canvas" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1001;"></canvas>
            <div class="loading-content">
                <img src="assets/CyberRTS-Full-Logo.svg" alt="CyberRTS" style="height: 140px; position: absolute; top: 3rem; left: 50%; transform: translateX(-50%);">
                <div class="leos-logo"><span class="highlight">LEOS</span>: First Orbit</div>
                <div class="loading-subtitle">
                    <span class="subtitle-word">Discover.</span>
                    <span class="subtitle-word">Engage.</span>
                    <span class="subtitle-word">Explore.</span>
                </div>
                <div id="loadingWave" class="loading-wave">Launching...</div>
                <div class="space-fact" id="space-fact">
                    <p>Did you know? There are over 34,000 objects larger than 10cm currently orbiting Earth.</p>
                </div>
            </div>
        </div>

        <!-- Welcome Modal (Combined Info & Tutorial) -->
        <div id="welcome-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto; padding: 2em;">
                <h2 class="modal-title">Welcome to LEOS: First Orbit</h2>
                <div class="modal-subtitle" style="margin: 0.5em 0 2em 0; font-style: italic;">Discover. Engage. Explore.</div>
                
                <!-- Mission Introduction -->
                <div style="background: linear-gradient(135deg, rgba(0,207,255,0.1) 0%, rgba(0,207,255,0.05) 100%); padding: 25px; border-radius: 12px; margin-bottom: 3em; border-left: 4px solid #00cfff;">
                    <p style="margin: 0 0 20px 0; font-size: 1.15em; line-height: 1.7; color: #e0e0e0;">LEOS: First Orbit places you in the heart of real-time space operations. Track CRTS-1 and Bulldog as they move through Low Earth Orbit, observe orbital mechanics in action, and explore a fully interactive 3D view of Earth, the Moon, and surrounding space.</p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.4); padding: 18px; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                            <p style="margin: 0; display: flex; align-items: center;"><img src="/assets/sat.svg" style="width:24px; height:24px; margin-right:10px;"> <strong style="color: #00cfff; font-size: 1.1em;">CRTS-1</strong></p>
                            <p style="margin: 10px 0 0 0; font-size: 0.95em; color: #ccc; line-height: 1.5;">Captures Earth imagery with advanced optical sensors</p>
                        </div>
                        <div style="background: rgba(0,0,0,0.4); padding: 18px; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                            <p style="margin: 0; display: flex; align-items: center;"><img src="/assets/sat.svg" style="width:24px; height:24px; margin-right:10px;"> <strong style="color: #00cfff; font-size: 1.1em;">Bulldog</strong></p>
                            <p style="margin: 10px 0 0 0; font-size: 0.95em; color: #ccc; line-height: 1.5;">Experimental support and research platform</p>
                        </div>
                    </div>
                </div>

                <!-- Section Divider -->
                <div style="height: 2px; background: linear-gradient(90deg, transparent 0%, #00cfff 50%, transparent 100%); margin: 3em 0; opacity: 0.3;"></div>

                <!-- Two Column Layout for Main Content -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3em; margin-bottom: 3em;">
                    
                    <!-- Left Column: Controls -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.08) 0%, rgba(0,207,255,0.04) 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #00cfff;">
                        <h3 style="color: #66d9ff; margin: 0 0 20px 0; font-size: 1.3em; display: flex; align-items: center;">
                            <span style="background: #00cfff; color: #000; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold; font-size: 0.9em;">1</span>
                            Controls & Navigation
                        </h3>
                        <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                            <div class="control-item" style="margin-bottom: 12px; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <span class="control-key">Mouse Drag</span>
                                <span class="control-desc">Rotate Earth view</span>
                            </div>
                            <div class="control-item" style="margin-bottom: 12px; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <span class="control-key">Mouse Wheel</span>
                                <span class="control-desc">Zoom in/out</span>
                            </div>
                            <div class="control-item" style="margin-bottom: 12px; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <span class="control-key">Space Key</span>
                                <span class="control-desc">Pause/Resume</span>
                            </div>
                            <div class="control-item" style="margin-bottom: 12px; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <span class="control-key">R Key</span>
                                <span class="control-desc">Reset view</span>
                            </div>
                            <div class="control-item" style="margin-bottom: 12px; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <span class="control-key">O Key</span>
                                <span class="control-desc">Cycle orbit display</span>
                            </div>
                            <div class="control-item" style="margin-bottom: 12px; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <span class="control-key">Click Satellite</span>
                                <span class="control-desc">View satellite info</span>
                            </div>
                            <div class="control-item" style="margin-bottom: 12px; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <span class="control-key">Click Ground Station</span>
                                <span class="control-desc">View ground station info</span>
                            </div>
                            <div class="control-item" style="padding: 8px 0;">
                                <span class="control-key">Click Time Display</span>
                                <span class="control-desc">Open time controls</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Simulation Info -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.08) 0%, rgba(0,207,255,0.04) 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #00cfff;">
                        <h3 style="color: #66d9ff; margin: 0 0 20px 0; font-size: 1.3em; display: flex; align-items: center;">
                            <span style="background: #00cfff; color: #000; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold; font-size: 0.9em;">2</span>
                            Simulation Speed & Time
                        </h3>
                        <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 10px; margin-bottom: 18px; border: 1px solid rgba(0,207,255,0.2);">
                            <p style="margin: 0 0 12px 0; color: #00cfff; font-weight: 600; font-size: 1.05em;">Base Time Acceleration: 60:1 ratio</p>
                            <ul style="margin: 0; padding-left: 20px; font-size: 0.95em; line-height: 1.7;">
                                <li>1 real minute = 1 simulated hour</li>
                                <li>1 real hour = 1 simulated day</li>
                                <li>24 real hours = 1 simulated month</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                            <p style="margin: 0 0 12px 0; color: #00cfff; font-weight: 600; font-size: 1.05em;">Speed Settings:</p>
                            <ul style="margin: 0; padding-left: 20px; font-size: 0.95em; line-height: 1.7;">
                                <li><strong style="color: #66d9ff;">0.25x:</strong> Ultra-slow motion (4 orbits/hour)</li>
                                <li><strong style="color: #66d9ff;">1.0x:</strong> Default speed (16 orbits/hour)</li>
                                <li><strong style="color: #66d9ff;">4.0x:</strong> Fast forward (64 orbits/hour)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Section Divider -->
                <div style="height: 2px; background: linear-gradient(90deg, transparent 0%, #00cfff 50%, transparent 100%); margin: 3em 0; opacity: 0.3;"></div>

                <!-- Bottom Section: Satellite Facts -->
                <div style="background: linear-gradient(135deg, rgba(0,207,255,0.08) 0%, rgba(0,207,255,0.04) 100%); padding: 25px; border-radius: 12px; margin-bottom: 3em; border-left: 4px solid #00cfff;">
                    <h3 style="color: #66d9ff; margin: 0 0 20px 0; font-size: 1.3em; display: flex; align-items: center;">
                        <span style="background: #00cfff; color: #000; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold; font-size: 0.9em;">3</span>
                        Satellite Orbital Facts
                    </h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                        <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                            <p style="margin: 0 0 12px 0; color: #00cfff; font-weight: 600; font-size: 1.05em;">Typical LEO Satellite (like ISS):</p>
                            <ul style="margin: 0; padding-left: 20px; font-size: 0.95em; line-height: 1.7;">
                                <li>Orbits Earth every ~90 minutes</li>
                                <li>Completes ~16 orbits per Earth day</li>
                                <li>Altitude: ~410km above Earth</li>
                                <li>Speed: ~7.66 km/s (17,150 mph)</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                            <p style="margin: 0 0 12px 0; color: #00cfff; font-weight: 600; font-size: 1.05em;">In this simulation:</p>
                            <ul style="margin: 0; padding-left: 20px; font-size: 0.95em; line-height: 1.7;">
                                <li>Realistic orbital mechanics</li>
                                <li>Synchronized Earth rotation</li>
                                <li>Accurate day/night terminator</li>
                                <li>Seasons change every ~6 real days</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Section Divider -->
                <div style="height: 2px; background: linear-gradient(90deg, transparent 0%, #00cfff 50%, transparent 100%); margin: 2em 0; opacity: 0.3;"></div>

                <!-- Footer -->
                <div style="text-align: center; margin-top: 2em;">
                    <p class="section-content" style="margin-bottom: 2em; font-style: italic; color: #aaa; font-size: 0.95em;">
                        Use the <img src="/assets/sat.svg" style="width:16px; height:16px; vertical-align:middle;"> icon to access the Space Domain Awareness overlay.
                    </p>
                    <button id="got-it-btn" class="primary-button" style="padding: 18px 45px; font-size: 1.2em; background: linear-gradient(135deg, #00cfff 0%, #0099cc 100%); border: none; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,207,255,0.3); transition: all 0.3s ease;">Got it, let's go!</button>
                </div>
            </div>
        </div>

        
        <!-- SDA Info Modal (Welcome-style) -->
        <div id="sda-welcome-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto; padding: 2em;">
                <div class="modal-header" style="position: relative; text-align: center; padding-bottom: 1.5em;">
                    <button class="close-button" id="sda-modal-close" style="position: absolute; top: -5px; right: 5px; background: none; border: none; color: #66d9ff; font-size: 24px; cursor: pointer; z-index: 10;">&times;</button>
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 1em;">
                        <div style="background: rgba(138, 43, 226, 0.2); width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid #8a2be2;">
                            <img src="/assets/sat.svg" style="width: 40px; height: 40px; filter: brightness(0) invert(1);" alt="SDA">
                        </div>
                        <div>
                            <h2 class="modal-title" style="margin: 0 0 0.3em 0; background: linear-gradient(135deg, #00cfff, #66d9ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-size: 2em;">Space Domain Awareness</h2>
                            <div class="modal-subtitle" style="margin: 0; font-style: italic; color: #66d9ff; font-size: 1.2em;">12,000+ CelesTrak objects + 46,000+ simulated (Updated Weekly)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-body" style="padding: 0 1em 2em 1em;">
                    <!-- Introduction -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.1) 0%, rgba(0,207,255,0.05) 100%); border: 1px solid rgba(0,207,255,0.3); border-radius: 12px; padding: 2em; margin-bottom: 2em; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 100%; height: 100%; background: radial-gradient(circle, rgba(0,207,255,0.1) 0%, transparent 70%); transform: rotate(45deg);"></div>
                        <div style="position: relative; z-index: 1; text-align: center;">
                            <p style="margin: 0 0 1em 0; font-size: 1.2em; line-height: 1.7; color: #e0e0e0;">Experience authentic space operations with 12,000+ real satellite objects from CelesTrak (updated weekly) plus 46,000+ simulated objects for operational scale.</p>
                            <p style="margin: 0; font-size: 1.1em; line-height: 1.6; color: #ccc;">Train with realistic space domain awareness in a comprehensive orbital environment.</p>
                        </div>
                    </div>
                    
                    <!-- Data Overview -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.08) 0%, rgba(0,207,255,0.04) 100%); padding: 2em; border-radius: 12px; margin-bottom: 2em; border-left: 4px solid #00cfff;">
                        <h3 style="color: #66d9ff; margin: 0 0 1.5em 0; font-size: 1.3em; text-align: center; display: flex; align-items: center; justify-content: center; gap: 0.5em;">
                            <img src="/assets/antenna.svg" style="width: 24px; height: 24px; filter: brightness(0) saturate(100%) invert(53%) sepia(95%) saturate(468%) hue-rotate(151deg) brightness(99%) contrast(105%);" alt="Antenna">
                            Data Overview
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.2em;">
                            <div style="background: rgba(0,0,0,0.4); padding: 1.2em; border-radius: 8px; border: 1px solid rgba(0,207,255,0.2); text-align: center;">
                                <div style="font-size: 1.8em; color: #00cfff; font-weight: bold; margin-bottom: 0.3em;">12,000+</div>
                                <div style="color: #66d9ff; font-size: 0.9em; margin-bottom: 0.2em;">Real CelesTrak Objects</div>
                                <div style="color: #ccc; font-size: 0.8em;">Updated weekly</div>
                            </div>
                            <div style="background: rgba(0,0,0,0.4); padding: 1.2em; border-radius: 8px; border: 1px solid rgba(0,207,255,0.2); text-align: center;">
                                <div style="font-size: 1.8em; color: #00cfff; font-weight: bold; margin-bottom: 0.3em;">46,000+</div>
                                <div style="color: #66d9ff; font-size: 0.9em; margin-bottom: 0.2em;">Simulated Objects</div>
                                <div style="color: #ccc; font-size: 0.8em;">Operational scale</div>
                            </div>
                        </div>
                        <div style="margin-top: 1.5em; text-align: center;">
                            <div style="display: inline-flex; gap: 1em; align-items: center; flex-wrap: wrap; justify-content: center;">
                                <div style="display: flex; align-items: center; gap: 0.5em;"><div style="width: 12px; height: 12px; background: cyan; border-radius: 50%;"></div><span style="color: #ccc; font-size: 0.9em;">LEO</span></div>
                                <div style="display: flex; align-items: center; gap: 0.5em;"><div style="width: 12px; height: 12px; background: yellow; border-radius: 50%;"></div><span style="color: #ccc; font-size: 0.9em;">MEO</span></div>
                                <div style="display: flex; align-items: center; gap: 0.5em;"><div style="width: 12px; height: 12px; background: red; border-radius: 50%;"></div><span style="color: #ccc; font-size: 0.9em;">GEO</span></div>
                                <div style="display: flex; align-items: center; gap: 0.5em;"><div style="width: 12px; height: 12px; background: purple; border-radius: 50%;"></div><span style="color: #ccc; font-size: 0.9em;">HEO</span></div>
                                <div style="display: flex; align-items: center; gap: 0.5em;"><div style="width: 12px; height: 12px; background: orange; border-radius: 50%;"></div><span style="color: #ccc; font-size: 0.9em;">Debris</span></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Features -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.08) 0%, rgba(0,207,255,0.04) 100%); padding: 2em; border-radius: 12px; margin-bottom: 2em; border-left: 4px solid #00cfff;">
                        <h3 style="color: #66d9ff; margin: 0 0 1.5em 0; font-size: 1.3em; text-align: center; display: flex; align-items: center; justify-content: center; gap: 0.5em;">
                            <img src="/assets/rocket.svg" style="width: 24px; height: 24px; filter: brightness(0) saturate(100%) invert(53%) sepia(95%) saturate(468%) hue-rotate(151deg) brightness(99%) contrast(105%);" alt="Rocket">
                            System Features
                        </h3>
                        <div style="display: grid; grid-template-columns: 1fr; gap: 1em;">
                            <div style="background: rgba(0,0,0,0.4); padding: 1em; border-radius: 8px; border: 1px solid rgba(0,207,255,0.2); display: flex; align-items: center; gap: 1em;">
                                <div style="color: #00cfff; font-size: 1.2em;">•</div>
                                <div><strong style="color: #66d9ff;">CelesTrak Integration:</strong> <span style="color: #ccc;">Weekly updates from authoritative satellite database</span></div>
                            </div>
                            <div style="background: rgba(0,0,0,0.4); padding: 1em; border-radius: 8px; border: 1px solid rgba(0,207,255,0.2); display: flex; align-items: center; gap: 1em;">
                                <div style="color: #00cfff; font-size: 1.2em;">•</div>
                                <div><strong style="color: #66d9ff;">Interactive Visualization:</strong> <span style="color: #ccc;">Hover, filter, and analyze orbital objects</span></div>
                            </div>
                            <div style="background: rgba(0,0,0,0.4); padding: 1em; border-radius: 8px; border: 1px solid rgba(0,207,255,0.2); display: flex; align-items: center; gap: 1em;">
                                <div style="color: #00cfff; font-size: 1.2em;">•</div>
                                <div><strong style="color: #66d9ff;">Performance Optimized:</strong> <span style="color: #ccc;">Smooth rendering of 58,000+ objects</span></div>
                            </div>
                            <div style="background: rgba(0,0,0,0.4); padding: 1em; border-radius: 8px; border: 1px solid rgba(0,207,255,0.2); display: flex; align-items: center; gap: 1em;">
                                <div style="color: #00cfff; font-size: 1.2em;">•</div>
                                <div><strong style="color: #66d9ff;">Training Environment:</strong> <span style="color: #ccc;">Realistic space operations experience</span></div>
                            </div>
                        </div>
                    </div>
                    
                    
                    <!-- Quick Start -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.08) 0%, rgba(0,207,255,0.04) 100%); padding: 2em; border-radius: 12px; margin-bottom: 0; border-left: 4px solid #00cfff;">
                        <h3 style="color: #66d9ff; margin: 0 0 1.5em 0; font-size: 1.3em; text-align: center;">Quick Start - What You Can Do</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.2em; margin-bottom: 1.5em;">
                            <div style="background: rgba(0,0,0,0.4); padding: 1.5em; border-radius: 8px; border: 1px solid rgba(0,207,255,0.2);">
                                <div style="color: #00cfff; font-weight: bold; margin-bottom: 0.8em; font-size: 1.1em;">Interactive Object Analysis</div>
                                <div style="color: #ccc; font-size: 0.9em; line-height: 1.5;">
                                    <p style="margin: 0 0 0.5em 0;">• Hover over any satellite to view real-time orbital parameters</p>
                                    <p style="margin: 0 0 0.5em 0;">• See object identification and classification instantly</p>
                                    <p style="margin: 0;">• Access detailed telemetry including altitude, velocity, and period</p>
                                </div>
                            </div>
                            <div style="background: rgba(0,0,0,0.4); padding: 1.5em; border-radius: 8px; border: 1px solid rgba(0,207,255,0.2);">
                                <div style="color: #00cfff; font-weight: bold; margin-bottom: 0.8em; font-size: 1.1em;">Advanced Filtering Controls</div>
                                <div style="color: #ccc; font-size: 0.9em; line-height: 1.5;">
                                    <p style="margin: 0 0 0.5em 0;">• Toggle visibility by orbit type (LEO, MEO, GEO, HEO)</p>
                                    <p style="margin: 0 0 0.5em 0;">• Filter by object category or constellation</p>
                                    <p style="margin: 0;">• Isolate specific satellite groups for focused analysis</p>
                                </div>
                            </div>
                        </div>
                        <div style="text-align: center; padding: 1em; background: rgba(138, 43, 226, 0.1); border-radius: 8px; border: 1px solid rgba(138, 43, 226, 0.3);">
                            <p style="margin: 0; color: #66d9ff; font-size: 0.95em; font-style: italic;">
                                <strong>Coming Soon:</strong> Real-Time Tracking, Analysis, and Predicted Anomalies
                            </p>
                            <p style="margin: 0.5em 0 0 0; color: #ccc; font-size: 0.85em;">
                                Professional iterations will include advanced analytics and predictive capabilities
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Footer -->
                <div style="text-align: center; padding: 2em 2em 0 2em;">
                    <button class="primary-button" id="sda-activate-button" style="padding: 18px 45px; font-size: 1.2em; background: linear-gradient(135deg, #00cfff 0%, #66d9ff 100%); border: none; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,207,255,0.3); transition: all 0.3s ease; margin-right: 1em;">Activate SDA Visualization</button>
                    <button class="secondary-button" id="sda-modal-close-footer" style="padding: 18px 45px; font-size: 1.2em; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; transition: all 0.3s ease;">Close</button>
                </div>
            </div>
        </div>
        
        <!-- Learning Modal -->
        <div id="learning-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content learning-modal-content">
                <div class="modal-header" style="position: relative; text-align: center; padding: 1.5em 1.5em 0 1.5em;">
                    <button class="close-button" id="learning-modal-close" style="position: absolute; top: 15px; right: 15px; background: none; border: none; color: #ff8c00; font-size: 24px; cursor: pointer; z-index: 10;">&times;</button>
                    <h2 class="modal-title" style="margin: 0;">LEOS Learning Center</h2>
                    <div class="modal-subtitle" style="margin: 0.5em 0 0 0; font-style: italic; color: #ffb84d;">Your Gateway to Space Education</div>
                </div>
                
                <div class="modal-body">
                    <!-- Coming Soon Section -->
                    <div style="background: linear-gradient(135deg, rgba(255,140,0,0.1) 0%, rgba(255,140,0,0.05) 100%); padding: 25px; border-radius: 12px; margin-bottom: 2em; border-left: 4px solid #ff8c00; text-align: center;">
                        <p style="margin: 0 0 10px 0; font-size: 1.15em; line-height: 1.7; color: #ff8c00; font-weight: bold;">Coming Soon!</p>
                        <p style="margin: 0; font-size: 1.05em; line-height: 1.6; color: #e0e0e0;">The LEOS Learning Center is under development and will be available in a future iteration.</p>
                    </div>
                    
                    <!-- Learning Platform Features Section -->
                    <div style="background: linear-gradient(135deg, rgba(255,140,0,0.08) 0%, rgba(255,140,0,0.04) 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #ff8c00; margin-bottom: 2em;">
                        <h3 style="color: #ffb84d; margin: 0 0 20px 0; font-size: 1.3em; text-align: center;">Comprehensive Learning Platform</h3>
                        <p style="margin: 0 0 20px 0; color: #e0e0e0; font-size: 1.05em; line-height: 1.6; text-align: center;">
                            Master space operations fundamentals through interactive learning, community collaboration, and hands-on simulation anywhere you go.
                        </p>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                            <div style="background: rgba(0,0,0,0.4); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,140,0,0.2);">
                                <p style="margin: 0 0 12px 0; color: #ffb84d; font-weight: bold; font-size: 1.05em;">Learning Resources & Documentation</p>
                                <ul style="margin: 0; padding-left: 1.2em; font-size: 0.9em; color: #ccc; line-height: 1.5;">
                                    <li>Space Operations 101 guides and tutorials</li>
                                    <li>Interactive orbital mechanics lessons</li>
                                    <li>Satellite technology fundamentals</li>
                                    <li>Reference materials and quick guides</li>
                                    <li>Video tutorials and walkthroughs</li>
                                </ul>
                            </div>
                            <div style="background: rgba(0,0,0,0.4); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,140,0,0.2);">
                                <p style="margin: 0 0 12px 0; color: #ffb84d; font-weight: bold; font-size: 1.05em;">Community & Collaboration</p>
                                <ul style="margin: 0; padding-left: 1.2em; font-size: 0.9em; color: #ccc; line-height: 1.5;">
                                    <li>Space enthusiast community forums</li>
                                    <li>Share discoveries and observations</li>
                                    <li>Ask questions and get expert answers</li>
                                    <li>Collaborative learning projects</li>
                                    <li>Connect with fellow space enthusiasts</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div style="background: rgba(0,0,0,0.4); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,140,0,0.2);">
                                <p style="margin: 0 0 12px 0; color: #ffb84d; font-weight: bold; font-size: 1.05em;">Interactive Simulation Tools</p>
                                <ul style="margin: 0; padding-left: 1.2em; font-size: 0.9em; color: #ccc; line-height: 1.5;">
                                    <li>Hands-on satellite tracking exercises</li>
                                    <li>Orbital mechanics experimentation</li>
                                    <li>Ground station visibility analysis</li>
                                    <li>Launch window calculations</li>
                                    <li>Mission planning scenarios</li>
                                </ul>
                            </div>
                            <div style="background: rgba(0,0,0,0.4); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,140,0,0.2);">
                                <p style="margin: 0 0 12px 0; color: #ffb84d; font-weight: bold; font-size: 1.05em;">Operation Simulation Range</p>
                                <ul style="margin: 0; padding-left: 1.2em; font-size: 0.9em; color: #ccc; line-height: 1.5;">
                                    <li>Access your simulation range anywhere</li>
                                    <li>Practice space operations procedures</li>
                                    <li>Scenario-based learning exercises</li>
                                    <li>Real-world mission simulations</li>
                                    <li>Safe environment for experimentation</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255,140,0,0.1); padding: 20px; border-radius: 8px; border-left: 3px solid #ff8c00; margin-top: 20px; text-align: center;">
                            <p style="margin: 0; font-size: 1.05em; color: #ffb84d; font-weight: bold; line-height: 1.5;">
                                From curious beginner to confident space operations practitioner - all in one comprehensive learning platform.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Section Divider -->
                    <div style="height: 2px; background: linear-gradient(90deg, transparent 0%, #ff8c00 50%, transparent 100%); margin: 2em 0; opacity: 0.3;"></div>
                    
                    <!-- Support Section -->
                    <div style="background: linear-gradient(135deg, rgba(255,140,0,0.06) 0%, rgba(255,140,0,0.02) 100%); padding: 20px; border-radius: 12px; border-left: 4px solid #ff8c00; margin-bottom: 2em; text-align: center;">
                        <h4 style="color: #ffb84d; margin: 0 0 15px 0; font-size: 1.1em;">Need Help?</h4>
                        <p style="margin: 0 0 10px 0; color: #e0e0e0; font-size: 0.95em; line-height: 1.5;">
                            Contact our Mission Support Team for assistance with LEOS First Orbit
                        </p>
                        <p style="margin: 0 0 5px 0; color: #ffb84d; font-size: 0.95em;">
                            <strong>Email:</strong> <span style="color: #ccc;">mission_support@cyberrts.com</span>
                        </p>
                        <p style="margin: 0; color: #ffb84d; font-size: 0.95em;">
                            <strong>Website:</strong> <span style="color: #ccc;">cyberrts.com</span>
                        </p>
                    </div>
                </div>
                
                <!-- Footer -->
                <div class="modal-footer" style="text-align: center; padding: 1em 1.5em 1.5em 1.5em;">
                    <p style="margin-bottom: 2em; font-style: italic; color: #aaa; font-size: 0.95em;">
                        Explore the LEOS simulation to see satellites in action while you wait!
                    </p>
                    <button id="learning-modal-ok" class="primary-button" style="padding: 18px 45px; font-size: 1.2em; background: linear-gradient(135deg, #ff8c00 0%, #ff6b35 100%); border: none; border-radius: 8px; box-shadow: 0 4px 15px rgba(255,140,0,0.3); transition: all 0.3s ease;">Sounds Exciting!</button>
                </div>
            </div>
        </div>
        
        <!-- Support Modal -->
        <div id="support-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content support-modal-content">
                <div class="modal-header" style="position: relative; text-align: center; padding: 0.5em 2em 0 2em;">
                    <button class="close-button" id="support-modal-close" style="position: absolute; top: 15px; right: 20px; background: none; border: none; color: #66d9ff; font-size: 24px; cursor: pointer; z-index: 10;">&times;</button>
                    <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 0.3em;">
                        <div style="background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 0.8em; box-shadow: 0 0 15px rgba(34,197,94,0.4);">
                            <img src="assets/support.svg" style="width: 22px; height: 22px; filter: brightness(0) invert(1);" alt="Support">
                        </div>
                        <div>
                            <h2 class="modal-title" style="margin: 0; font-size: 1.5rem; background: linear-gradient(135deg, #00cfff, #66d9ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">LEOS Mission Control</h2>
                            <div class="modal-subtitle subtitle" style="margin: 0; font-style: italic; color: #66d9ff; font-size: 0.9rem;">Your direct line to our team</div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-body" style="padding: 0 2em 2em 2em;">
                    <!-- Contact Information -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.1) 0%, rgba(0,207,255,0.05) 100%); border: 1px solid rgba(0,207,255,0.3); border-radius: 12px; padding: 2em; margin-bottom: 2.5em; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 100%; height: 100%; background: radial-gradient(circle, rgba(0,207,255,0.1) 0%, transparent 70%); transform: rotate(45deg);"></div>
                        <div style="position: relative; z-index: 1;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1.5em; text-align: center;">
                                <div style="padding: 1em;">
                                    <div style="background: rgba(0,207,255,0.2); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.8em; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='scale(1.1)'; this.style.background='rgba(0,207,255,0.3)'; this.style.boxShadow='0 0 20px rgba(0,207,255,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.background='rgba(0,207,255,0.2)'; this.style.boxShadow='none';">
                                        <img src="assets/support.svg" style="width: 22px; height: 22px; filter: brightness(0) saturate(100%) invert(53%) sepia(95%) saturate(468%) hue-rotate(151deg) brightness(99%) contrast(105%);" alt="Support">
                                    </div>
                                    <p style="margin: 0; color: #00cfff; font-weight: bold; font-size: 0.9em;">Mission Support Team</p>
                                    <p style="margin: 0.3em 0 0 0; color: #66d9ff; font-size: 0.8em;">Quick response</p>
                                </div>
                                <div style="padding: 1em;">
                                    <a href="mailto:mission_support@cyberrts.com" style="text-decoration: none;">
                                        <div style="background: rgba(0,207,255,0.2); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.8em; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='scale(1.1)'; this.style.background='rgba(0,207,255,0.3)'; this.style.boxShadow='0 0 20px rgba(0,207,255,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.background='rgba(0,207,255,0.2)'; this.style.boxShadow='none';">
                                            <img src="assets/email.svg" style="width: 20px; height: 20px; filter: brightness(0) saturate(100%) invert(53%) sepia(95%) saturate(468%) hue-rotate(151deg) brightness(99%) contrast(105%);" alt="Email">
                                        </div>
                                    </a>
                                    <p style="margin: 0; color: #00cfff; font-weight: bold; font-size: 0.9em;">Direct Email</p>
                                    <p style="margin: 0.3em 0 0 0; color: #66d9ff; font-size: 0.8em;">mission_support@cyberrts.com</p>
                                </div>
                                <div style="padding: 1em;">
                                    <a href="https://www.cyberrts.com" target="_blank" style="text-decoration: none;">
                                        <div style="background: rgba(0,207,255,0.2); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.8em; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='scale(1.1)'; this.style.background='rgba(0,207,255,0.3)'; this.style.boxShadow='0 0 20px rgba(0,207,255,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.background='rgba(0,207,255,0.2)'; this.style.boxShadow='none';">
                                            <img src="assets/earth.svg" style="width: 20px; height: 20px; filter: brightness(0) saturate(100%) invert(53%) sepia(95%) saturate(468%) hue-rotate(151deg) brightness(99%) contrast(105%);" alt="Website">
                                        </div>
                                    </a>
                                    <p style="margin: 0; color: #00cfff; font-weight: bold; font-size: 0.9em;">Website</p>
                                    <p style="margin: 0.3em 0 0 0; color: #66d9ff; font-size: 0.8em;">cyberrts.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Contact Form -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.05) 0%, rgba(0,207,255,0.02) 100%); border: 1px solid rgba(0,207,255,0.2); border-radius: 12px; padding: 2.5em; margin-bottom: 2.5em;">
                        <div style="text-align: center; margin-bottom: 2.5em;">
                            <div style="display: inline-flex; align-items: center; gap: 0.5em; margin-bottom: 0.5em;">
                                <div style="background: rgba(0,207,255,0.2); width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: rocket-bounce 2s infinite;">
                                    <img src="/assets/rocket.svg" style="width: 18px; height: 18px; filter: brightness(0) invert(1);" alt="Rocket">
                                </div>
                                <h3 style="color: #66d9ff; margin: 0; font-size: 1.4em;">Send Us a Message</h3>
                            </div>
                            <p style="color: #66d9ff; margin: 0; font-size: 1.05em;">Help us improve LEOS and get the support you need</p>
                        </div>
                        
                        <form name="support-contact" method="POST" data-netlify="true" id="support-form">
                            <input type="hidden" name="form-name" value="support-contact" />
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2em; margin-bottom: 2em;">
                                <div class="form-group">
                                    <label for="name">Name *</label>
                                    <input type="text" id="name" name="name" required>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email *</label>
                                    <input type="email" id="email" name="email" required>
                                </div>
                            </div>
                            
                            <div class="form-group" style="margin-bottom: 2em;">
                                <label for="organization">Organization / Company</label>
                                <input type="text" id="organization" name="organization">
                            </div>
                            
                            <div class="form-group" style="margin-bottom: 2em;">
                                <label for="subject">Subject *</label>
                                <select id="subject" name="subject" required>
                                    <option value="">Please select a subject</option>
                                    <option value="bug-report">Bug Report</option>
                                    <option value="feature-request">Feature Request</option>
                                    <option value="general-feedback">General Feedback</option>
                                    <option value="technical-support">Technical Support</option>
                                    <option value="learning-center">Learning Center Inquiry</option>
                                    <option value="partnership">Partnership Inquiry</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            
                            <div class="form-group" style="margin-bottom: 2em;">
                                <label for="message">Message *</label>
                                <textarea id="message" name="message" placeholder="Please describe your feedback, question, or issue in detail..." required></textarea>
                            </div>
                            
                            <div class="form-group" style="margin-bottom: 2em;">
                                <label for="browser-info">Browser & System Information (Optional)</label>
                                <textarea id="browser-info" name="browser-info" placeholder="Browser version, operating system, device type, etc." style="min-height: 80px;"></textarea>
                            </div>
                            
                            <div class="checkbox-group" style="margin-bottom: 2em;">
                                <input type="checkbox" id="newsletter" name="newsletter" value="yes">
                                <label for="newsletter" style="color: #66d9ff; font-weight: normal; margin-bottom: 0;">
                                    Sign me up for updates on CyberRTS products and launches
                                </label>
                            </div>
                            
                            <div style="text-align: center; margin-top: 2.5em;">
                            <button type="submit" class="form-submit" style="position: relative; overflow: hidden;">
                                <span style="position: relative; z-index: 1;">
                                    Send Message
                                </span>
                            </button>
                        </div>
                    </form>
                </div>
                </div>
            </div>
        </div>
        
        <!-- Simulation Settings Modal (moved outside support modal) -->
        <div id="simulation-settings-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content" style="max-width: 800px; max-height: 85vh; overflow: hidden; display: flex; flex-direction: column;">
                <div class="modal-header" style="position: relative;">
                    <button class="close-button" id="settings-modal-close" style="position: absolute; top: -5px; right: 5px; background: none; border: none; color: #66d9ff; font-size: 24px; cursor: pointer; z-index: 10;">&times;</button>
                    <h2 class="modal-title">Simulation Settings</h2>
                    <p class="modal-subtitle">Configure simulation parameters and display options</p>
                </div>
                
                <!-- Tab Navigation -->
                <div class="tab-nav" style="display: flex; border-bottom: 1px solid #00cfff; margin-bottom: 20px;">
                    <button class="tab-button active" data-tab="general" style="flex: 1; padding: 12px; background: rgba(0,207,255,0.2); border: none; color: #66d9ff; cursor: pointer; border-bottom: 2px solid #00cfff; transition: all 0.3s ease; font-size: 14px; font-weight: 500;">General</button>
                    <button class="tab-button disabled" data-tab="visual" style="flex: 1; padding: 12px; background: rgba(0,23,40,0.3); border: none; color: #555; cursor: not-allowed; border-bottom: 2px solid transparent; transition: all 0.3s ease; font-size: 14px; font-weight: 500;">Visual<br><small>Coming Soon</small></button>
                    <button class="tab-button disabled" data-tab="trails" style="flex: 1; padding: 12px; background: rgba(0,23,40,0.3); border: none; color: #555; cursor: not-allowed; border-bottom: 2px solid transparent; transition: all 0.3s ease; font-size: 14px; font-weight: 500;">Trails<br><small>Coming Soon</small></button>
                    <button class="tab-button disabled" data-tab="camera" style="flex: 1; padding: 12px; background: rgba(0,23,40,0.3); border: none; color: #555; cursor: not-allowed; border-bottom: 2px solid transparent; transition: all 0.3s ease; font-size: 14px; font-weight: 500;">Camera<br><small>Coming Soon</small></button>
                    <button class="tab-button disabled" data-tab="advanced" style="flex: 1; padding: 12px; background: rgba(0,23,40,0.3); border: none; color: #555; cursor: not-allowed; border-bottom: 2px solid transparent; transition: all 0.3s ease; font-size: 14px; font-weight: 500;">Advanced<br><small>Coming Soon</small></button>
                </div>
                
                <div class="modal-body" style="flex: 1; overflow-y: auto; padding-right: 10px; min-height: 0;">
                    <!-- General Tab -->
                    <div class="tab-content active" id="general-tab">
                        <div class="setting-section">
                            <h3>Security & Classification</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="apply-unclass-banner">
                                    Apply Banner (UNCLASS)
                                </label>
                                <small style="display: block; color: #66d9ff; margin-top: 4px; font-style: italic;">Show UNCLASSIFIED banner for DoD training environments</small>
                            </div>
                        </div>

                        <div class="setting-section">
                            <h3>Performance</h3>
                            <div class="setting-item">
                                <label for="render-quality">Render Quality:</label>
                                <select id="render-quality">
                                    <option value="low">Low (better performance)</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                    <option value="ultra">Ultra (best quality)</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label for="update-frequency">Update Frequency:</label>
                                <input type="range" id="update-frequency" min="30" max="120" step="15" value="60">
                                <span id="update-frequency-value">60 FPS</span>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="adaptive-quality" checked>
                                    Adaptive Quality (adjust for performance)
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-fps-counter">
                                    Show FPS Counter
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Tab -->
                    <div class="tab-content" id="visual-tab" style="display: none;">
                        <div class="setting-section">
                            <h3>Visual Display</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-orbit-paths" checked>
                                    Show Orbit Paths (O key toggles)
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-satellite-labels" checked>
                                    Show Satellite Labels
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-ground-stations" checked>
                                    Show Ground Stations
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-line-of-sight" checked>
                                    Show Line-of-Sight Connections
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-earth-atmosphere" checked>
                                    Show Earth Atmosphere Effect
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-sunlight" checked>
                                    Show Day/Night Terminator
                                </label>
                            </div>
                        </div>

                        <div class="setting-section">
                            <h3>Satellite Appearance</h3>
                            <div class="setting-item">
                                <label for="satellite-scale">Satellite Size:</label>
                                <input type="range" id="satellite-scale" min="0.5" max="3.0" step="0.1" value="1.0">
                                <span id="satellite-scale-value">100%</span>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-satellite-glow" checked>
                                    Satellite Glow Effect
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="realistic-lighting" checked>
                                    Realistic Solar Lighting
                                </label>
                            </div>
                            <div class="setting-item">
                                <label for="label-scale">Label Size:</label>
                                <input type="range" id="label-scale" min="0.5" max="2.0" step="0.1" value="1.0">
                                <span id="label-scale-value">100%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Trails Tab -->
                    <div class="tab-content" id="trails-tab" style="display: none;">
                        <div class="setting-section">
                            <h3>🌌 Orbit Trails</h3>
                            <div class="setting-item">
                                <label for="trail-length">Trail History (minutes):</label>
                                <input type="range" id="trail-length" min="30" max="360" step="30" value="180">
                                <span id="trail-length-value">180 min</span>
                            </div>
                            <div class="setting-item">
                                <label for="trail-quality">Trail Quality:</label>
                                <select id="trail-quality">
                                    <option value="low">Low (better performance)</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High (best quality)</option>
                                    <option value="ultra">Ultra (maximum realism)</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label for="trail-opacity">Trail Opacity:</label>
                                <input type="range" id="trail-opacity" min="0.1" max="1.0" step="0.1" value="0.8">
                                <span id="trail-opacity-value">80%</span>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="trail-fade-gradient" checked>
                                    Fade gradient (older trails dimmer)
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Camera Tab -->
                    <div class="tab-content" id="camera-tab" style="display: none;">
                        <div class="setting-section">
                            <h3>Camera & Controls</h3>
                            <div class="setting-item">
                                <label for="camera-sensitivity">Mouse Sensitivity:</label>
                                <input type="range" id="camera-sensitivity" min="0.1" max="2.0" step="0.1" value="1.0">
                                <span id="camera-sensitivity-value">100%</span>
                            </div>
                            <div class="setting-item">
                                <label for="zoom-speed">Zoom Speed:</label>
                                <input type="range" id="zoom-speed" min="0.5" max="3.0" step="0.1" value="1.0">
                                <span id="zoom-speed-value">100%</span>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="smooth-camera" checked>
                                    Smooth Camera Transitions
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="auto-follow-satellite">
                                    Auto-follow Active Satellite
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Advanced Tab -->
                    <div class="tab-content" id="advanced-tab" style="display: none;">
                        <div class="setting-section">
                            <h3>Advanced Settings</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-coordinate-system">
                                    Show Coordinate System
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="show-orbital-mechanics">
                                    Show Orbital Mechanics Info
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="enable-physics-debug">
                                    Enable Physics Debug Mode
                                </label>
                            </div>
                            <div class="setting-item">
                                <label for="earth-rotation-rate">Earth Rotation Rate:</label>
                                <input type="range" id="earth-rotation-rate" min="0.1" max="2.0" step="0.1" value="1.0">
                                <span id="earth-rotation-rate-value">100%</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="flex-shrink: 0; display: flex; justify-content: space-between; align-items: center; padding: 20px; border-top: 1px solid rgba(0,207,255,0.2); margin-top: 20px; background: rgba(0,0,0,0.3);">
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <select id="settings-presets" style="padding: 8px; border-radius: 4px; background: rgba(0,23,40,0.9); color: #66d9ff; border: 1px solid #00cfff;">
                            <option value="">Load Preset...</option>
                            <option value="performance">Performance Mode</option>
                            <option value="quality">Quality Mode</option>
                            <option value="cinematic">Cinematic Mode</option>
                            <option value="educational">Educational Mode</option>
                            <option value="developer">Developer Mode</option>
                        </select>
                        <button class="secondary-button" id="settings-reset-button">Reset to Defaults</button>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="primary-button" id="settings-apply-button">Apply Settings</button>
                        <button class="primary-button" id="settings-modal-close-footer" style="background: rgba(102,217,255,0.1); border-color: #66d9ff;">Close</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mission Dashboard Overlay (hidden by default) -->
        <div id="mission-dashboard" class="mission-dashboard-overlay hidden">
            <div class="mission-dashboard-tile left-tile" id="telemetry-tile">
                <div class="tile-header ambient-blue">
                    Mission Telemetry
                    <button class="tile-minimize-btn" id="minimize-telemetry" title="Minimize Telemetry Panel"></button>
                </div>
                <div class="tile-content" id="mission-telemetry-content">
                    <!-- Telemetry, graphs, and subsystem data will go here -->
                    <div class="telemetry-placeholder">Select a satellite to view telemetry.</div>
                </div>
            </div>
            <div class="mission-dashboard-tile model-tile" id="model-tile">
                <div class="tile-header ambient-orange">
                    3D Satellite Model
                    <button class="tile-minimize-btn" id="minimize-model" title="Minimize 3D Model Panel"></button>
                </div>
                <div class="tile-content" id="mission-model-content">
                    <!-- 3D model viewer canvas -->
                    <canvas id="modelCanvas" style="width:100%; height:100%; display:block; position:absolute; top:0; left:0; z-index:10;"></canvas>
                </div>
            </div>
            <button id="close-mission-dashboard" class="close-mission-dashboard">&times;</button>
        </div>
        
        <!-- Minimized Tabs Container - Bottom Center Dock -->
        <div id="minimized-tabs-container" style="position: absolute; left: 50%; bottom: 16px; transform: translateX(-50%); z-index: 4000; display: none; flex-direction: row; gap: 12px; background: rgba(0, 0, 0, 0.6); padding: 8px 16px; border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px);">
            <!-- Minimized tabs will be added here dynamically -->
        </div>
        
        <!-- CAPCOM Kelly Button - Bottom Right -->
        <button id="capcom-kelly-btn" title="CAPCOM - AI Mission Assistant (Coming Soon)" class="capcom-button" style="position: absolute; bottom: 16px; right: 16px; z-index: 12000; width: 48px; height: 48px; border-radius: 50%; background: rgba(0, 207, 255, 0.8); border: 2px solid #00cfff; cursor: pointer; display: none; align-items: center; justify-content: center; pointer-events: auto; transition: all 0.3s ease; backdrop-filter: blur(10px); animation: kelly-pulse 3s ease-in-out infinite;">
            <img src="/assets/kelly.svg" style="width: 24px; height: 24px; filter: brightness(0) invert(1);" alt="CAPCOM">
        </button>
        
        <!-- CAPCOM Modal (Coming Soon) -->
        <div id="capcom-kelly-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto; padding: 2em;">
                <div class="modal-header" style="position: relative; text-align: center; padding-bottom: 1.5em;">
                    <button class="close-button" id="capcom-modal-close" style="position: absolute; top: -5px; right: 5px; background: none; border: none; color: #66d9ff; font-size: 24px; cursor: pointer; z-index: 10;">&times;</button>
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 1em;">
                        <div style="background: rgba(0, 207, 255, 0.2); width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid #00cfff;">
                            <img src="/assets/kelly.svg" style="width: 40px; height: 40px; filter: brightness(0) invert(1);" alt="CAPCOM">
                        </div>
                        <div>
                            <h2 class="modal-title" style="margin: 0 0 0.3em 0; background: linear-gradient(135deg, #00cfff, #66d9ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-size: 2em;">Coming Soon to LEOS: CAPCOM</h2>
                            <div class="modal-subtitle" style="margin: 0; font-style: italic; color: #66d9ff; font-size: 1.2em;">Your AI Mission Assistant</div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-body" style="padding: 0 1em 2em 1em;">
                    <!-- Introduction -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.1) 0%, rgba(0,207,255,0.05) 100%); border: 1px solid rgba(0,207,255,0.3); border-radius: 12px; padding: 2.5em; margin-bottom: 3em; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 100%; height: 100%; background: radial-gradient(circle, rgba(0,207,255,0.1) 0%, transparent 70%); transform: rotate(45deg);"></div>
                        <div style="position: relative; z-index: 1; text-align: center;">
                            <p style="margin: 0; font-size: 1.25em; line-height: 1.8; color: #e0e0e0;">CAPCOM is your in-simulation mission assistant, always ready to support, guide, and answer questions while you operate inside the LEOS environment.</p>
                        </div>
                    </div>
                    
                    <!-- What Kelly Does -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.08) 0%, rgba(0,207,255,0.04) 100%); padding: 2.5em; border-radius: 12px; margin-bottom: 3em; border-left: 4px solid #00cfff;">
                        <h3 style="color: #66d9ff; margin: 0 0 2em 0; font-size: 1.4em; display: flex; align-items: center; justify-content: center;">
                            <span style="background: #00cfff; color: #000; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold;">?</span>
                            What CAPCOM Does
                        </h3>
                        
                        <!-- Feature Grid -->
                        <div style="display: grid; grid-template-columns: 1fr; gap: 1.5em;">
                            <!-- Explains Simulation Elements -->
                            <div style="background: rgba(0,0,0,0.4); padding: 2em; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                                <div style="display: flex; align-items: center; gap: 1em; margin-bottom: 1em;">
                                    <div style="background: rgba(0,207,255,0.2); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <img src="/assets/sat.svg" style="width: 20px; height: 20px; filter: brightness(0) invert(1);" alt="Satellite">
                                    </div>
                                    <h4 style="margin: 0; color: #00cfff; font-size: 1.15em;">Explains Simulation Elements</h4>
                                </div>
                                <div style="margin-left: 56px;">
                                    <p style="margin: 0 0 0.5em 0; color: #ccc; font-style: italic;">"What does this telemetry panel mean?"</p>
                                    <p style="margin: 0; color: #ccc; font-style: italic;">"What happens when a satellite loses power?"</p>
                                </div>
                            </div>
                            
                            <!-- Guides Through Missions -->
                            <div style="background: rgba(0,0,0,0.4); padding: 2em; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                                <div style="display: flex; align-items: center; gap: 1em; margin-bottom: 1em;">
                                    <div style="background: rgba(0,207,255,0.2); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <img src="/assets/support.svg" style="width: 20px; height: 20px; filter: brightness(0) invert(1);" alt="Support">
                                    </div>
                                    <h4 style="margin: 0; color: #00cfff; font-size: 1.15em;">Guides You Through Missions</h4>
                                </div>
                                <div style="margin-left: 56px;">
                                    <p style="margin: 0; color: #ccc;">Context-aware help: how to start, what's happening, and how to respond.</p>
                                </div>
                            </div>
                            
                            <!-- Answers Space Questions -->
                            <div style="background: rgba(0,0,0,0.4); padding: 2em; border-radius: 10px; border: 1px solid rgba(0,207,255,0.2);">
                                <div style="display: flex; align-items: center; gap: 1em; margin-bottom: 1em;">
                                    <div style="background: rgba(0,207,255,0.2); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <img src="/assets/learn.svg" style="width: 20px; height: 20px; filter: brightness(0) invert(1);" alt="Learn">
                                    </div>
                                    <h4 style="margin: 0; color: #00cfff; font-size: 1.15em;">Answers Space Questions Live</h4>
                                </div>
                                <div style="margin-left: 56px;">
                                    <p style="margin: 0; color: #ccc;">Ask about orbital mechanics, ground stations, or satellite behavior — and CAPCOM explains it clearly.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Coming Soon Notice -->
                    <div style="background: linear-gradient(135deg, rgba(0,207,255,0.15) 0%, rgba(0,207,255,0.08) 100%); border: 2px solid rgba(0,207,255,0.4); border-radius: 12px; padding: 2em; text-align: center; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, transparent 0%, rgba(0,207,255,0.1) 50%, transparent 100%); animation: shimmer 3s ease-in-out infinite;"></div>
                        <div style="position: relative; z-index: 1;">
                            <div style="background: rgba(0,207,255,0.2); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1em; border: 2px solid #00cfff;">
                                <img src="/assets/rocket.svg" style="width: 30px; height: 30px; filter: brightness(0) invert(1);" alt="Rocket">
                            </div>
                            <h3 style="color: #00cfff; margin: 0 0 15px 0; font-size: 1.4em;">CAPCOM Will Launch Soon!</h3>
                            <p style="color: #66d9ff; margin: 0; font-size: 1.1em; line-height: 1.6;">We're putting the finishing touches on CAPCOM's AI capabilities. It will be available in the next LEOS update to make your mission operations even more engaging and educational.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const facts = [
            'There are over 34,000 objects larger than 10cm currently orbiting Earth.',
            'The ISS travels at approximately 7.66 km/s to stay in orbit.',
            'The Moon drifts away from Earth at about 3.8 cm per year.',
            'A day on Venus is longer than its year due to its slow rotation.',
            'Saturn’s rings consist mostly of ice particles mixed with rock.'
        ];
        let factIndex = 0;
        function rotateFact() {
            factIndex = (factIndex + 1) % facts.length;
            document.querySelector('#space-fact p').textContent = facts[factIndex];
        }
        // Start rotating facts immediately
        rotateFact();
        setInterval(rotateFact, 4000);

        // Show/hide the note and controls only on click, and auto-hide tip after timeout or click-out
        (function() {
            const timeDisplay = document.getElementById('time-display');
            const currentTime = document.getElementById('current-time');
            const controlsPanel = document.getElementById('time-controls');
            const note = document.getElementById('time-info-note');
            let tipTimeout = null;
            let controlsOpen = false;

            // Ensure tip and controls are hidden on page load
            controlsPanel.classList.add('hidden');
            note.style.display = 'none';

            function showControlsAndTip() {
                controlsPanel.classList.remove('hidden');
                note.style.display = 'flex';
                controlsOpen = true;
                clearTimeout(tipTimeout);
                tipTimeout = setTimeout(hideTipAndControls, 10000); // auto-hide after 10s
            }
            function hideTipAndControls() {
                controlsPanel.classList.add('hidden');
                note.style.display = 'none';
                controlsOpen = false;
                clearTimeout(tipTimeout);
            }
            currentTime.addEventListener('click', function(e) {
                e.stopPropagation();
                if (!controlsOpen) {
                    showControlsAndTip();
                } else {
                    hideTipAndControls();
                }
            });
            // Hide when clicking outside
            document.addEventListener('mousedown', function(e) {
                if (!timeDisplay.contains(e.target)) {
                    hideTipAndControls();
                }
            });
            // Hide on ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') hideTipAndControls();
            });
            // Prevent accidental close when clicking inside
            controlsPanel.addEventListener('mousedown', function(e) { e.stopPropagation(); });
            note.addEventListener('mousedown', function(e) { e.stopPropagation(); });
        })();
        // Hide time display during loading screen
        (function() {
            const loadingScreen = document.getElementById('loading-screen');
            const body = document.body;
            function updateTimeDisplayVisibility() {
                if (!loadingScreen) return;
                
                // Check COMPUTED style, not inline style
                const computedDisplay = window.getComputedStyle(loadingScreen).display;
                const isLoadingVisible = computedDisplay !== 'none';
                
                if (isLoadingVisible) {
                    body.classList.add('hide-time');
                } else {
                    body.classList.remove('hide-time');
                    // Ensure time display is explicitly visible
                    const timeDisplay = document.getElementById('time-display');
                    if (timeDisplay) {
                        timeDisplay.style.display = 'block';
                        timeDisplay.style.visibility = 'visible';
                        timeDisplay.style.opacity = '1';
                    }
                }
            }
            // Initial check
            updateTimeDisplayVisibility();
            // Observe loading screen visibility changes
            const observer = new MutationObserver(updateTimeDisplayVisibility);
            observer.observe(loadingScreen, { attributes: true, attributeFilter: ['style'] });
        })();
        // Make time control buttons clickable even when tip/controls are open
        (function() {
            const controlsPanel = document.getElementById('time-controls');
            const timeDisplay = document.getElementById('time-display');
            // Ensure pointer events are enabled
            controlsPanel.style.pointerEvents = 'auto';
            timeDisplay.style.pointerEvents = 'auto';
        })();
        // Toggle control dock visibility with loading screen
        (function() {
            const loadingScreen = document.getElementById('loading-screen');
            const controlDock = document.getElementById('control-dock');
            
            function updateButtonVisibility() {
                if (loadingScreen.style.display === 'none') {
                    // Show control dock when simulation is loaded
                    if (controlDock) {
                        controlDock.style.display = 'flex';
                    }
                } else {
                    // Hide control dock during loading
                    if (controlDock) {
                        controlDock.style.display = 'none';
                    }
                }
            }
            // Observe loading screen hiding
            const observer = new MutationObserver(updateButtonVisibility);
            observer.observe(loadingScreen, { attributes: true, attributeFilter: ['style'] });
            // Initial check
            updateButtonVisibility();
        })();
        // Help sphere toggle - now shows welcome modal
        (function() {
            const helpBtn = document.getElementById('help-sphere-btn');
            const welcomeModal = document.getElementById('welcome-modal');
            const canvas = document.getElementById('renderCanvas');
            
            // Note: Help button click handler is set up in brand-ui.js showHelpButton function
            
            // Close modal when clicking on simulation canvas
            if (canvas && welcomeModal) {
                canvas.addEventListener('click', () => {
                    welcomeModal.style.display = 'none';
                });
            }
        })();
        
        // SDA Welcome Modal functionality
        document.addEventListener('DOMContentLoaded', function() {
            const sdaToggleBtn = document.getElementById('sda-toggle-btn');
            const sdaModal = document.getElementById('sda-welcome-modal');
            const sdaCloseBtn = document.getElementById('sda-modal-close');
            const sdaCloseBtnFooter = document.getElementById('sda-modal-close-footer');
            const sdaActivateBtn = document.getElementById('sda-activate-button');
            
            if (!sdaToggleBtn || !sdaModal) {
                console.log('SDA elements not found');
                return;
            }
            
            // SDA button event listener is now handled in app.js
            // to prevent duplicate event listeners
            // All modal handlers also moved to app.js to avoid conflicts
            console.log('SDA functionality will be initialized in app.js');
        });
    </script>
    <!-- SDA button click binding now handled in app.js -->
  </body>
</html>
