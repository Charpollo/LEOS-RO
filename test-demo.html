<!DOCTYPE html>
<html>
<head>
    <title>RED ORBIT Demo Test</title>
    <style>
        body {
            background: #000;
            color: #0f0;
            font-family: monospace;
            padding: 20px;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #0f0;
        }
        .pass { color: #0f0; }
        .fail { color: #f00; }
    </style>
</head>
<body>
    <h1>RED ORBIT Demo Test</h1>
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        function addResult(test, passed, details) {
            const div = document.createElement('div');
            div.className = 'test-result ' + (passed ? 'pass' : 'fail');
            div.innerHTML = `
                <strong>${test}:</strong> ${passed ? 'PASS ✓' : 'FAIL ✗'}
                ${details ? '<br>' + details : ''}
            `;
            results.appendChild(div);
        }
        
        // Test 1: Check if physics starts at 60X
        setTimeout(() => {
            if (window.simState) {
                const is60X = window.simState.timeMultiplier === 60;
                addResult('Initial Speed 60X', is60X, 
                    `Current speed: ${window.simState.timeMultiplier}X`);
            } else {
                addResult('Initial Speed 60X', false, 'simState not found');
            }
        }, 2000);
        
        // Test 2: Check if physics engine has 15K objects
        setTimeout(() => {
            if (window.redOrbitPhysics) {
                const count = window.redOrbitPhysics.bodies.size;
                const is15K = count >= 14000 && count <= 16000;
                addResult('15,000 Satellites', is15K, 
                    `Current count: ${count}`);
            } else {
                addResult('15,000 Satellites', false, 'Physics not initialized');
            }
        }, 5000);
        
        // Test 3: Check if Kessler trigger exists
        setTimeout(() => {
            const hasKessler = window.redOrbitPhysics && 
                              typeof window.redOrbitPhysics.triggerKesslerSyndrome === 'function';
            addResult('Kessler Syndrome Ready', hasKessler, 
                hasKessler ? 'Function available' : 'Function not found');
        }, 3000);
        
        // Test 4: Simulate key press
        setTimeout(() => {
            console.log('Testing key press simulation...');
            const event = new KeyboardEvent('keydown', { key: '1' });
            document.dispatchEvent(event);
            addResult('Key Press Test', true, 'Check console for "KEY 1 PRESSED" message');
        }, 4000);
    </script>
</body>
</html>