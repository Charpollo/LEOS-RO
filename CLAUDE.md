# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

LEOS (Low Earth Orbit Satellite) First Orbit is a 3D satellite visualization system built with Babylon.js. The project provides real-time satellite tracking with orbital mechanics simulation, telemetry data integration, and interactive 3D visualization.

## Architecture

### Frontend Structure
- **Entry Point**: `frontend/js/app.js` - Main application initialization
- **3D Rendering**: Babylon.js engine with custom Earth, Moon, and satellite meshes
- **Modular Components**: 
  - `satellites.js` - Satellite mesh creation and orbital mechanics
  - `earth.js` - Earth rendering with textures and atmosphere
  - `moon.js` - Moon rendering and orbital positioning
  - `telemetry.js` - Real-time telemetry data handling
  - `simulation.js` - Time-based simulation loop
  - `groundStations.js` - Ground station network and line-of-sight calculations
- **UI System**: Custom UI manager with brand components and telemetry cards
- **Data Integration**: Flexible data source system supporting files, APIs, and WebSocket streams

### Backend
- **Server**: Simple Python HTTP server (`server.py`) that serves the built frontend
- **Build System**: Webpack configuration for bundling JavaScript modules and assets

## Common Development Commands

### Build and Development
```bash
# Clean build directory
npm run clean

# Build for development
npm run build

# Build for production
NODE_ENV=production npm run build

# Watch mode for development
npm run watch

# Start development server (with clean build)
npm run dev
# or
./run-frontend.sh --clean --port 8000

# Start server on default port 8080
npm start
# or
./run-frontend.sh
```

### Server Operations
```bash
# Start server with custom port
./run-frontend.sh --port 3000

# Start server with clean build
./run-frontend.sh --clean

# Kill all server processes
./kill.sh
```

## Key Technologies

- **Babylon.js**: 3D rendering engine for satellite visualization
- **Webpack**: Module bundler for JavaScript and assets
- **Python**: Backend HTTP server
- **CSS**: Custom styling for UI components

## Data Sources Integration

The system supports multiple telemetry data sources as documented in `DATA_SOURCE_INTEGRATION.md`:
- Static files (JSON, JSONL, CSV)
- REST APIs with field mapping
- WebSocket real-time streams
- File uploads through UI

Press `Ctrl+D` to open the Data Source Manager for configuring telemetry inputs.

## Development Notes

- The application uses a modular JavaScript architecture with ES6 imports
- Babylon.js scenes are initialized in `app.js` with separate modules for each 3D component
- UI components are custom-built with a template system
- Telemetry data is processed through a standardized format with field mapping support
- The simulation uses configurable time multipliers for orbital mechanics calculations

## File Structure Notes

- `frontend/dist/` - Built assets (generated by webpack)
- `frontend/assets/` - Static assets (textures, models, data files)
- `frontend/js/` - Source JavaScript modules
- `frontend/css/` - Stylesheets
- `frontend/templates/` - HTML templates for UI components